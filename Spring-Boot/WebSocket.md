## HTTP 통신

1. 비연결성 (connectionless) : 연결을 맺고 요청을 하고 응답을 받으면 연결을 끊어버림
2. 무상태성 (stateless) : 서버가 클라이언트의 상태를 가지고 있지 않음
3. 단방향 통신

BUT 채팅은 사용자 간 메시지를 주고 받는 실시간 방법이다. 그래서 실시간 통신방법을 찾아보니, 다음과 같은 방법들이 있었다.

## 실시간 통신 방법

#### 1. polling

일정 주기를 가지고 서버의 API를 호출하는 방법  
ex) 클라이언트에서 5초마다 한 번씩 알림 목록을 호출한다면, 업데이트 내역이 5초마다 갱신되며 변경 사항을 적용할 수 있다.

- 장점: 기본적인 HTTP 통신을 기반으로 하기 때문에 호환성이 좋다
- 단점: 업데이트 주기가 길다면 실시간으로 데이터가 갱신 되지 않고, 또 짧다면 갱신 사항이 없음에도 서버에 요청이 들어와 불필요한 서버 부하가 발생할 수 있다.

#### 2. long-polling

- 장점: polling과 비슷하지만, 업데이트 발생시에만 응답을 보낸다.
- 단점: Polling과 유사하게 서버에 부하가 일어날 수 있다.

#### 3. SSE (Server-Sent Event)

서버쪽으로 특정 이벤트를 구독하면 서버는 클라이언트 쪽으로 이벤트를 보내준다.

- 장점: 한번 연결요청을 보내면 연결종료될때까지 재연결 과정없이 서버에서 데이터를 계속 보낼 수 있음
- 단점: 서버에서 웹 브라우저로만 데이터 전송이 가능  
    

#### 4. 웹 소켓

양방향 통신이 가능한 방법으로, 지속적 업데이트가 필요한 문서 동시 편집, 채팅, 주식거래 등과 같은 서비스에 많이 사용되는 방식

- 단점: 연결을 유지하는 것 자체가 비용이 들기 때문에 트래픽 양이 많아진다면 서버에 큰 부담이 된다는 단점  
    
→ Polling, long polling 방식은 실시간성을 높이려면 그 주기를 짧게 해야 하는데, 트래픽이 많아질 경우 서버에 걸리는 부하가 커지기 때문에 알림 서비스에는 부적합


#### 5. WebSocket vs RSocket

WebSocket과 RSocket은 모두 양방향 통신을 지원하는 네트워크 프로토콜이지만, 몇 가지 중요한 차이점이 있습니다. 아래에서 각각의 특징을 설명하겠습니다.

1. **WebSocket**:
    
    - **프로토콜**: WebSocket은 HTTP를 기반으로 한 양방향 통신 프로토콜입니다. 클라이언트와 서버 간에 지속적인 연결을 유지하고 데이터를 양방향으로 전송할 수 있습니다.
    - **사용**: 대부분의 웹 애플리케이션에서 실시간 통신을 구현할 때 주로 사용됩니다. 채팅 애플리케이션, 주식 시세 업데이트, 온라인 게임 등에 활용됩니다.
    - **특징**: 브라우저와 서버 간에 실시간 양방향 통신을 제공하며, HTTP와 달리 지속적인 연결을 유지하므로 실시간 데이터 전송에 적합합니다.
2. **RSocket**:
    
    - **프로토콜**: RSocket은 TCP, WebSocket, UDP와 같은 다양한 전송 프로토콜 위에서 동작하는 양방향 통신 프로토콜입니다. Reactive Streams와 함께 사용되어 비동기 및 반응형 시스템을 지원합니다.
    - **사용**: 분산 시스템 및 마이크로서비스 아키텍처에서 비동기 통신을 구현할 때 주로 사용됩니다. 클라우드 환경에서의 서비스 간 통신, IoT 기기와의 통신 등에 활용됩니다.
    - **특징**: 다양한 전송 프로토콜을 지원하며, 비동기 및 반응형 프로그래밍에 적합합니다. 요청-응답, 요청-스트림, 스트림-요청, 스트림-스트림과 같은 다양한 메시지 패턴을 지원합니다. 또한, 장애 복구 기능과 백프레셔(Backpressure)를 내장하고 있어 안정적인 통신을 지원합니다.

간단히 말해, WebSocket은 웹 애플리케이션에서 실시간 통신을 위한 프로토콜이고, RSocket은 더 넓은 범위의 분산 시스템 및 서비스 간 통신을 위한 프로토콜입니다. 선택은 사용 사례 및 요구 사항에 따라 다를 수 있습니다.
